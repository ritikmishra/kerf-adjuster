(this["webpackJsonpkerf-adjust"]=this["webpackJsonpkerf-adjust"]||[]).push([[0],{31:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(14),i=n.n(r),a=n(18),o=n(12),c=n(0),s=n(59),u=n(32),l=(n(57),n(4)),f=function(){var t=Object(c.useState)(0),r=Object(o.a)(t,2),f=r[0],d=r[1],h=Object(c.useState)(void 0),b=Object(o.a)(h,2),j=b[0],p=b[1],w=function(){var t=Object(a.a)(i.a.mark((function t(){var r,a,o,c,s,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j){t.next=3;break}return alert("Please select a file"),t.abrupt("return");case 3:return t.next=5,n.e(3).then(n.bind(null,60));case 5:r=t.sent,a=r.offset_drawing,o=e.from(a(j,f)),c="data:application/dxf;base64,".concat(o.toString("base64")),(s=document.createElement("a")).setAttribute("href",c),u="".concat(j.fileName.replace(/.dxf$/gi,""),"-offset.dxf"),s.setAttribute("download",u),s.innerHTML="Click this link to download the offset DXF",(0!==f||confirm("It looks like you wanted us to offset the DXF contours by 0 units. Was this intentional?"))&&(document.body.appendChild(s),s.click(),document.body.removeChild(s));case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("p",{children:"This is a web application that is supposed to kerf adjust your DXF files for the purposes of laser cutting. This is a work in progress. Right now, it is basically unusable, and doesn't really work. The two main problems are that not all geometries can be offset, and not all geometries will be offset in the right direction. Regardless, you can try to put your DXF through it and you can see what comes out."}),Object(l.jsxs)("div",{className:"dxf-offset-form",children:[Object(l.jsx)(u.a,{onNewFile:function(e,t){return p({file:e,fileName:t})}}),Object(l.jsxs)("label",{children:["Amount to offset curves by:",Object(l.jsx)("input",{type:"number",value:f,step:"0.001",onChange:function(e){return d(Number(e.target.value))}})]}),Object(l.jsx)(s.a,{variant:"success",disabled:void 0===j,onClick:w,children:"Download offset DXF"})]}),Object(l.jsxs)("p",{children:["Approximate feature roadmap",Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Show DXF to user, and compare original version to offset version"}),Object(l.jsx)("li",{children:"Testing on a variety of DXF files and entity types beyond line, circle, arc"}),Object(l.jsx)("li",{children:"Explicit error messages if an entity in the DXF file is not supported"}),Object(l.jsx)("li",{children:"Allow user to change whether a contour should be offset inwards or outwards"})]})]})]})}}).call(this,n(25).Buffer)},32:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));n(12);var r=n(14),i=n.n(r),a=n(18),o=(n(0),n(55),n(33),n(4)),c=function(t){var n=t.onNewFile,r=function(){var t=Object(a.a)(i.a.mark((function t(r){var a,o,c,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=r.target.files)&&a.length>0)){t.next=11;break}return o=a[0],t.next=5,o.arrayBuffer();case 5:c=t.sent,(s=e.alloc(c.byteLength)).fill(new Uint8Array(c)),n(s,o.name),t.next=12;break;case 11:alert("You have to pick a file!");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.jsxs)("label",{children:["Upload a file",Object(o.jsx)("input",{type:"file",onChange:r,accept:".dxf"})]})}}).call(this,n(25).Buffer)},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(12),i=n(1),a=n(3),o=n(0),c=(n(56),n(2)),s=n(34),u=n(4),l=function(){function e(t,n,r,a,o,c,s){Object(i.a)(this,e),this.scene=t,this.camera=n,this.renderer=r,this.plane=a,this.width=o,this.height=c,this.orbitControls=s}return Object(a.a)(e,[{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}}]),e}(),f=100,d=function(e){var t=Object(o.createRef)(),n=Object(o.useState)(),i=Object(r.a)(n,2),a=i[0],d=i[1];return Object(o.useEffect)((function(){d(function(e){var t=new c.g(new c.m(0,0,1)),n=new c.i,r=window.innerHeight,i=window.innerWidth,a=new c.f(-i/f,i/f,r/f,-r/f,.1,1e3);a.position.z=1;var o=new c.n;o.setSize(i,r),e.current&&e.current.appendChild(o.domElement);var u=new s.a(a,e.current);u.enableRotate=!1,u.mouseButtons={LEFT:c.c.PAN,MIDDLE:c.c.DOLLY,RIGHT:c.c.ROTATE};var d=new l(n,a,o,t,i,r,u);return function e(){requestAnimationFrame(e),d.render()}(),d}(t))}),[]),Object(o.useEffect)((function(){if(a){var e=new c.a(90,1,1);e.translate(6,3,0);var t=new c.a(1,1,1),n=new c.e({color:65280}),r=new c.d(e,n);a.scene.add(r,new c.d(t,n)),a.render()}}),[a]),Object(o.useEffect)((function e(){var t=window.innerWidth,n=window.innerHeight;a&&(a.renderer.setSize(t,n),a.camera.left=-t/f,a.camera.right=t/f,a.camera.top=n/f,a.camera.bottom=-n/f,a.camera.updateProjectionMatrix()),window.addEventListener("resize",e)})),Object(u.jsx)("div",{className:"pane",ref:t})}},40:function(e,t,n){},41:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(13),o=n.n(a),c=(n(40),n(41),n(62)),s=n(21),u=n(4),l=function(){return Object(u.jsxs)(s.a,{bg:"light",expand:"lg",children:[Object(u.jsx)(s.a.Brand,{href:"#home",children:"Kerf Adjuster"}),Object(u.jsx)(c.a,{className:"mr-auto",children:Object(u.jsx)(c.a.Link,{href:"https://github.com/ritikmishra/kerf-adjuster",children:"GitHub repo"})}),Object(u.jsx)(s.a.Toggle,{"aria-controls":"basic-navbar-nav"})]})},f=(n(49),n(31)),d=function(){return Object(u.jsxs)("div",{className:"app-root",children:[Object(u.jsx)(l,{}),Object(u.jsx)("div",{style:{flexGrow:100,width:"100%",position:"relative"},children:Object(u.jsx)(f.a,{})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(d,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[58,1,2]]]);
//# sourceMappingURL=main.eb028fa7.chunk.js.map